@page "/"
@using System.Security.Claims
@using System.Text.Json
@using System.Text.Json.Serialization
@rendermode InteractiveServer
@attribute [Authorize]
<PageTitle>Home</PageTitle>

<AuthorizeView Roles="Lord">
    <Authorized>
        <Dashboard />
    </Authorized>
</AuthorizeView>


@code{
    [CascadingParameter]
    public Task<AuthenticationState>? AuthentiationState { get; set; }

    private AuthenticationState? _authenticationState;

    protected override async Task OnInitializedAsync()
    {
        if (AuthentiationState != null)
        {
            _authenticationState = await AuthentiationState;
            StateHasChanged();
        }

        await base.OnInitializedAsync();
    }

}
